<div class="container">
<%# Formulario para engine con todos sus atributos . %>
<%= form_with(model: upkeep) do |form| %>
  <% if upkeep.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(upkeep.errors.count, "error") %> prohibited this upkeep from being saved:</h2>

      <ul>
        <% upkeep.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mt-3 mb-3">
    <%= form.label :feature_id, "Tipo de motor", style: "display: block" %>
    <%= form.collection_select :feature_id, @features, :id, :name %>
  </div>

  <div class="mt-3 mb-3">
    <%= form.label :upkeeptipe_id, "Tipo de mantenimiento", style: "display: block" %>
    <%= form.collection_select :upkeeptipe_id, @upkeeptipes, :id, :name %>
  </div>

  <div class="mt-3 mb-3">
    <%= form.label :engine_id, "Nombre Motor", style: "display: block" %>
    <%= form.collection_select :engine_id, @engines, :id, :name %>
  </div>

   <div class="mt-3 mb-3">
    <%= form.label :city_id, "Ciudad", style: "display: block" %>
    <%= form.collection_select :city_id, @cities, :id, :name %>
  </div>
<%# Realizamos una iteracion apra mostrar los materiales a utilizar y que puedan escoger entre 1 o 3
de los pedidos en el requerimiento del ejercicio %>
  <div class="mt-3">
    <%= form.label :material_ids, "Materiales", style: "display: block", class:"form-group" %>
    <div class="row">
    <%= form.collection_check_boxes(:material_ids, @materials, :id, :name) do |b| %>
    <div class="col-md-2">
    <span class="form-control my-2"><%= b.label {b.check_box + " " + b.text } %></span>
    </div>
    <% end %>
    </div>
  </div>

  <div class="mt-3 mb-3">
    <%= form.label :date, "Fecha mantenimiento: dia-mes-aÃ±o", style: "display: block" %>
    <%= form.text_field :date %>
  </div>

  <div class="mt-3 mb-3">
    <%= form.label :email, "Email del tecnico que realizo el mantenimiento:", style: "display: block" %>
    <%= form.text_field :email %>
  </div>


  <div class="mt-4">
    <%= form.submit "Crear Mantenimiento" %>
  </div>
<% end %>
</div>